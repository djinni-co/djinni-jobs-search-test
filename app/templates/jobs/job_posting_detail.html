{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <!-- Job Header Section -->
    <div class="text-center mb-3">
        <h1 class="h1 fw-bold">{{ job.position }}</h1>
        <h2 class="h4 text-primary">
            {% if job.public_salary_max %}
                <span class="text-success">Up to ${{ job.public_salary_max }}</span>
            {% endif %}
            <small class="text-secondary">at {{ job.company.name }}</small>
        </h2>
        {% if job.company.logo_url %}
            <div class="mt-3">
                <img src="{{ job.company.logo_url }}" alt="{{ job.company.name }} logo" class="img-fluid" style="max-width: 150px;">
            </div>
        {% endif %}
    </div>

    <!-- Job Content Section -->
    <div class="row">
        <!-- Job Description Section -->
        <div class="col-lg-8">
            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <div class="text-clamp">
                        {{ job.long_description|safe }}
                    </div>
                </div>
            </div>
        </div>

        <!-- Job Details Section -->
        <div class="col-lg-4">
            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <h3 class="card-title h5">Details</h3>
                    <ul class="list-unstyled mb-0">
                        {% if job.country %}
                            <li><strong>Country:</strong> {{ job.country }}</li>
                        {% endif %}
                        {% if job.location %}
                            <li><strong>Location:</strong> {{ job.location }}</li>
                        {% endif %}
                        <li><strong>Experience:</strong> {{ job.experience_years }} years</li>
                        {% if job.english_level %}
                            <li><strong>English Level:</strong> {{ job.english_level }}</li>
                        {% endif %}
                        <li><strong>Remote Type:</strong> {{ job.get_remote_type_display }}</li>
                        {% if job.get_company_type_display %}
                            <li><strong>Company Type:</strong> {{ job.get_company_type_display }}</li>
                        {% endif %}
                        <li><strong>Domain:</strong> {{ job.get_domain_display }}</li>
                        {% if job.is_parttime %}
                            <li><strong>Part-time:</strong> Yes</li>
                        {% endif %}
                        {% if job.has_test %}
                            <li><strong>Requires Test Task:</strong> Yes</li>
                        {% endif %}
                        {% if job.requires_cover_letter %}
                            <li><strong>Requires Cover Letter:</strong> Yes</li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Company Information Section -->
    <div class="row">
        <div class="col-lg-8">
            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <h3 class="card-title h5">About the Company</h3>
                    <p class="mb-1">{{ job.company.name }}</p>
                    {% if job.company.dou_link %}
                        <p><a href="{{ job.company.dou_link }}" target="_blank" class="btn btn-link">Company Profile</a></p>
                    {% endif %}
                    {% if job.company.is_international %}
                        <p><strong>International Company:</strong> Yes</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
